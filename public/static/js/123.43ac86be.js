"use strict";(self.webpackChunkez_theme=self.webpackChunkez_theme||[]).push([[123],{35681:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Me});var s=t(90208),l=t(59258),n=t(3604),u=t(41034),i=t(78676),c=t(20908),r=t(30388),o=(t(28706),t(2008),t(74423),t(25276),t(64346),t(62062),t(44114),t(54554),t(59089),t(23288),t(18111),t(22489),t(61701),t(2892),t(26099),t(58940),t(21699),t(47764),t(11392),t(42762),t(62953),t(76031),t(3296),t(27208),t(48408),t(14603),t(47566),t(98721),t(20641)),v=t(50953),d=t(90033),k=t(53751),m=t(46992),p=t(75220),f=t(98120),g=t(46510),b=t(92549),L=t(49586),h=t(12321),w=t(33366),y=t(69668),C=t(82914),_=t(80394),R={class:"ticket-container"},A={key:0,class:"screen-size-notice"},E={class:"notice-content"},$={class:"dashboard-card welcome-card"},X={class:"card-header"},F={class:"card-title"},K={class:"card-body"},T={class:"ticket-list-container"},U={class:"ticket-sidebar"},j={class:"ticket-header"},z={class:"search-box"},W=["placeholder"],D={key:0,class:"ticket-list"},I=["onClick"],M={class:"ticket-info"},S={class:"ticket-subject"},x={class:"ticket-meta"},Q={class:"ticket-time"},O={class:"ticket-status"},P={key:1,class:"ticket-loading"},N={key:2,class:"empty-state"},V={class:"ticket-content"},H={class:"ticket-detail-header"},B={class:"ticket-subject-info"},J={class:"ticket-detail-meta"},q={class:"ticket-time"},G={class:"ticket-actions"},Y=["disabled"],Z={key:0},ee={key:1,class:"loading-text"},ae={class:"ticket-detail-content"},te={class:"ticket-messages"},se={key:0,class:"message-loading"},le={key:1,class:"no-messages"},ne={key:0,class:"message-avatar admin-avatar"},ue={class:"message-content"},ie={class:"message-header"},ce={key:0,class:"message-sender"},re={class:"message-text"},oe={key:1,class:"message-avatar user-avatar"},ve={class:"message-time-floating"},de={key:0,class:"reply-container"},ke={class:"reply-input-section"},me={class:"input-row"},pe=["placeholder","onKeydown"],fe={class:"image-upload-section"},ge=["disabled"],be={key:0,class:"loader"},Le={key:1,class:"ticket-closed-notice"},he={key:1,class:"no-selection"},we={class:"modal-header"},ye={class:"modal-body"},Ce={class:"form-group"},_e=["placeholder"],Re={class:"form-group"},Ae={class:"level-tags"},Ee={class:"form-group"},$e=["placeholder"],Xe={class:"form-group"},Fe={class:"modal-footer"},Ke=["disabled"],Te={key:0,class:"loader"},Ue={class:"modal-header"},je={class:"modal-body"},ze={class:"modal-footer"},We=["disabled"],De={key:0,class:"loader"};const Ie={__name:"TicketList",setup:function(e){var a=(0,m.s9)().t,Ie=(0,w.d)().showToast,Me=(0,v.KR)([]),Se=(0,v.KR)(null),xe=(0,v.KR)(""),Qe=(0,v.KR)(!1),Oe=(0,v.KR)(!1),Pe=(0,v.KR)([]),Ne=(0,v.KR)(!1),Ve=(0,v.KR)(""),He=(0,v.KR)([]),Be=(0,v.KR)(!1),Je=(0,v.KR)(!1),qe=(0,v.KR)(!1),Ge=(0,v.KR)(!1),Ye=(0,v.KR)(null),Ze=(0,v.KR)({subject:"",message:""}),ea=(0,v.KR)({subject:"",message:"",level:"0"}),aa=(0,v.KR)([]),ta=(0,o.EW)(function(){if(!xe.value)return Me.value;var e=xe.value.toLowerCase();return Me.value.filter(function(a){return a.subject.toLowerCase().includes(e)})}),sa=function(){var e=(0,r.A)((0,c.A)().m(function e(){var t,s,l;return(0,c.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return Ge.value=!0,e.p=1,e.n=2,(0,g.F$)();case 2:t=e.v,Me.value=Array.isArray(t.data)?t.data:[],e.n=4;break;case 3:e.p=3,l=e.v,Ie((null===(s=l.response)||void 0===s?void 0:s.message)||l.message||a("tickets.fetchError"),"error"),Me.value=[];case 4:return e.p=4,Ge.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),la=function(){var e=(0,r.A)((0,c.A)().m(function e(){var t,s,l,n,u,r,o,v,d,k,m,p;return(0,c.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(ea.value.subject.trim()){e.n=1;break}return Ze.value.subject=a("tickets.subjectRequired"),e.a(2);case 1:Ze.value.subject="";case 2:if(ea.value.message.trim()){e.n=3;break}return Ze.value.message=a("tickets.messageRequired"),e.a(2);case 3:Ze.value.message="";case 4:return Oe.value=!0,e.p=5,e.n=6,Promise.all([(0,b.ug)(),(0,b.l8)(),(0,b._8)(),(0,b.XL)()]);case 6:return t=e.v,s=(0,i.A)(t,4),l=s[0],n=s[1],u=s[2],r=s[3],n&&n.data&&n.data.currency_symbol&&(l.currency_symbol=n.data.currency_symbol),o=(0,L.AB)(l,r,u),v="".concat(ea.value.message,"\n\n").concat(o),e.n=7,(0,g.Z2)({subject:ea.value.subject,message:v,level:parseInt(ea.value.level)});case 7:if(!(d=e.v).data){e.n=9;break}return Ie(d.message||a("tickets.createSuccess"),"success"),_a(),e.n=8,sa();case 8:Me.value.length>0&&(k=Me.value[0],wa(k));case 9:e.n=11;break;case 10:e.p=10,p=e.v,Ie((null===(m=p.response)||void 0===m?void 0:m.message)||p.message||a("tickets.createError"),"error");case 11:return e.p=11,Oe.value=!1,e.f(11);case 12:return e.a(2)}},e,null,[[5,10,11,12]])}));return function(){return e.apply(this,arguments)}}(),na=function(){var e=(0,r.A)((0,c.A)().m(function e(t){var s,l,n,i,r=arguments;return(0,c.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return(s=r.length>1&&void 0!==r[1]&&r[1])||(Ne.value=!0,Pe.value=[]),e.p=1,e.n=2,(0,g.yN)(t);case 2:(l=e.v).data&&(l.data.message&&Array.isArray(l.data.message)?Pe.value=l.data.message.map(function(e){return(0,u.A)((0,u.A)({},e),{},{is_admin:!e.is_me})}):Pe.value=[],Se.value&&Se.value.id===t&&void 0!==l.data.status&&(Se.value.status=l.data.status,1===l.data.status&&ua())),e.n=4;break;case 3:e.p=3,i=e.v,Ie((null===(n=i.response)||void 0===n?void 0:n.message)||i.message||a("tickets.fetchDetailError"),"error");case 4:return e.p=4,s||(Ne.value=!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(a){return e.apply(this,arguments)}}(),ua=function(){Ye.value&&(clearInterval(Ye.value),Ye.value=null)},ia=function(){var e=(0,r.A)((0,c.A)().m(function e(){var t,s,l,n;return(0,c.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(Ve.value.trim()&&Se.value){e.n=1;break}return e.a(2);case 1:return Be.value=!0,e.p=2,t=Ve.value,e.n=3,(0,g.RV)(Se.value.id,t);case 3:if(!(s=e.v).data){e.n=4;break}return Ie(s.message||a("tickets.replySent"),"success"),Ve.value="",He.value=[],e.n=4,na(Se.value.id,!0);case 4:e.n=6;break;case 5:e.p=5,n=e.v,Ie((null===(l=n.response)||void 0===l?void 0:l.message)||n.message||a("tickets.replyError"),"error");case 6:return e.p=6,Be.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[2,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),ca=function(){var e=(0,r.A)((0,c.A)().m(function e(){var t,s,l;return(0,c.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(Se.value){e.n=1;break}return e.a(2);case 1:return qe.value=!0,e.p=2,e.n=3,(0,g.Hi)(Se.value.id);case 3:if(!0!==(t=e.v).data){e.n=6;break}return Ie(t.message||a("tickets.closeSuccess"),"success"),Se.value.status=1,ua(),e.n=4,na(Se.value.id);case 4:return e.n=5,sa();case 5:ya.value=!0,Ca.value=!1,setTimeout(function(){Je.value=!1,ya.value=!1},250);case 6:e.n=8;break;case 7:e.p=7,l=e.v,Ie((null===(s=l.response)||void 0===s?void 0:s.message)||l.message||a("tickets.closeError"),"error");case 8:return e.p=8,qe.value=!1,e.f(8);case 9:return e.a(2)}},e,null,[[2,7,8,9]])}));return function(){return e.apply(this,arguments)}}(),ra=function(e){return e?new Date(1e3*e).toLocaleString():"--"},oa=function(e){return a(0===e?"tickets.statusOpen":"tickets.statusClosed")},va=function(e){return 0===e?"status-open":"status-closed"},da=function(e){var t={0:a("tickets.levelLow"),1:a("tickets.levelMedium"),2:a("tickets.levelHigh")};return t[e]||t[0]},ka=function(e){var a={0:"level-low",1:"level-medium",2:"level-high"};return a[e]||a[0]},ma=function(){},pa=function(e){Ie(a("tickets.imageUploadSuccess"),"success")},fa=function(e){Ie(a("tickets.imageUploadError"),"error")},ga=function(e){Ve.value?Ve.value+="\n\n"+e:Ve.value=e},ba=function(){var e=(0,r.A)((0,c.A)().m(function e(u){var i,r,o,v,d,k,m,p,f,g;return(0,c.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=null===(i=u.clipboardData)||void 0===i?void 0:i.items){e.n=1;break}return e.a(2);case 1:for(o=[],v=0;v<r.length;v++)(d=r[v]).type.startsWith("image/")&&(k=d.getAsFile())&&o.push(k);if(!(o.length>0)){e.n=8;break}u.preventDefault(),m=(0,n.A)(o),e.p=2,f=(0,c.A)().m(function e(){var s,n,u,i,r,o,v,d;return(0,c.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return s=p.value,n={file:s,url:URL.createObjectURL(s),uploading:!0,progress:0,id:Date.now()+Math.random(),markdown:null},He.value.push(n),e.p=1,e.n=2,Promise.resolve().then(t.bind(t,77137));case 2:return u=e.v,i=u.default,r=function(e){n.progress=e,He.value=(0,l.A)(He.value)},e.n=3,i.uploadImage(s,r);case 3:o=e.v,n.progress=100,n.uploadedUrl=o.url,n.uploading=!1,n.markdown=o.markdown,o.markdown&&ga(o.markdown),Ie(a("tickets.imageUploadSuccess"),"success"),e.n=5;break;case 4:e.p=4,d=e.v,Ie(d.message||a("imageUpload.uploadFailed"),"error"),(v=He.value.indexOf(n))>-1&&He.value.splice(v,1);case 5:return e.a(2)}},e,null,[[1,4]])}),m.s();case 3:if((p=m.n()).done){e.n=5;break}return e.d((0,s.A)(f()),4);case 4:e.n=3;break;case 5:e.n=7;break;case 6:e.p=6,g=e.v,m.e(g);case 7:return e.p=7,m.f(),e.f(7);case 8:return e.a(2)}},e,null,[[2,6,7,8]])}));return function(a){return e.apply(this,arguments)}}(),La=function(){var e=(0,r.A)((0,c.A)().m(function e(u){var i,r,o,v,d,k,m,p,f,g;return(0,c.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=null===(i=u.clipboardData)||void 0===i?void 0:i.items){e.n=1;break}return e.a(2);case 1:for(o=[],v=0;v<r.length;v++)(d=r[v]).type.startsWith("image/")&&(k=d.getAsFile())&&o.push(k);if(!(o.length>0)){e.n=8;break}u.preventDefault(),m=(0,n.A)(o),e.p=2,f=(0,c.A)().m(function e(){var s,n,u,i,r,o,v,d;return(0,c.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return s=p.value,n={file:s,url:URL.createObjectURL(s),uploading:!0,progress:0,id:Date.now()+Math.random(),markdown:null},aa.value.push(n),e.p=1,e.n=2,Promise.resolve().then(t.bind(t,77137));case 2:return u=e.v,i=u.default,r=function(e){n.progress=e,aa.value=(0,l.A)(aa.value)},e.n=3,i.uploadImage(s,r);case 3:o=e.v,n.progress=100,n.uploadedUrl=o.url,n.uploading=!1,n.markdown=o.markdown,o.markdown&&ha(o.markdown),Ie(a("tickets.imageUploadSuccess"),"success"),e.n=5;break;case 4:e.p=4,d=e.v,Ie(d.message||a("imageUpload.uploadFailed"),"error"),(v=aa.value.indexOf(n))>-1&&aa.value.splice(v,1);case 5:return e.a(2)}},e,null,[[1,4]])}),m.s();case 3:if((p=m.n()).done){e.n=5;break}return e.d((0,s.A)(f()),4);case 4:e.n=3;break;case 5:e.n=7;break;case 6:e.p=6,g=e.v,m.e(g);case 7:return e.p=7,m.f(),e.f(7);case 8:return e.a(2)}},e,null,[[2,6,7,8]])}));return function(a){return e.apply(this,arguments)}}(),ha=function(e){ea.value.message?ea.value.message+="\n\n"+e:ea.value.message=e},wa=function(e){var a;ua(),Se.value=e,na(e.id),0===e.status&&(a=e.id,ua(),Se.value&&0===Se.value.status&&(Ye.value=setInterval(function(){Se.value&&Se.value.id===a?na(a,!0):ua()},5e3)))},ya=(0,v.KR)(!1),Ca=(0,v.KR)(!1),_a=function(){ya.value=!0,Ca.value=!1,setTimeout(function(){Qe.value=!1,ya.value=!1,ea.value={subject:"",message:"",level:"0"},aa.value=[]},250)},Ra=function(){ya.value=!1,Qe.value=!0,setTimeout(function(){Ca.value=!0},10)},Aa=function(){Je.value?(ya.value=!0,Ca.value=!1,setTimeout(function(){Je.value=!1,ya.value=!1},250)):(ya.value=!1,Je.value=!0,setTimeout(function(){Ca.value=!0},10))},Ea=function(e,a){return 0===e||Pe.value[e-1].is_admin!==a},$a=function(e){if(!e)return"--";var a=new Date(1e3*e),t=new Date;return a.getDate()===t.getDate()&&a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()?a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):a.getDate()+"\u65e5 "+a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Xa=(0,v.KR)(!1),Fa=(0,p.rd)(),Ka=function(){Xa.value=window.innerWidth<905},Ta=function(){Fa.push("/mobile/tickets")},Ua=(0,v.KR)(!1),ja=(null===_.TICKET_CONFIG||void 0===_.TICKET_CONFIG?void 0:_.TICKET_CONFIG.popup)||{},za=function(){Ua.value=!1};return(0,o.sV)(function(){Ka(),window.addEventListener("resize",Ka),sa(),function(){if(ja.enabled){var e=Number(localStorage.getItem("ticket_popup_close_time")||0),a=3600*(ja.cooldownHours||0)*1e3;(!e||Date.now()-e>=a)&&(Ua.value=!0)}}()}),(0,o.hi)(function(){window.removeEventListener("resize",Ka),ua()}),function(e,a){return(0,o.uX)(),(0,o.CE)("div",R,[Xa.value?((0,o.uX)(),(0,o.CE)("div",A,[(0,o.Lk)("div",E,[(0,o.bF)((0,v.R1)(f.q2Q),{size:48}),(0,o.Lk)("h2",null,(0,d.v_)(e.$t("tickets.smallScreenNotice")),1),(0,o.Lk)("p",null,(0,d.v_)(e.$t("tickets.switchToMobile")),1),(0,o.Lk)("button",{class:"switch-btn",onClick:Ta},(0,d.v_)(e.$t("tickets.switchToMobileView")),1)])])):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Lk)("div",$,[(0,o.Lk)("div",X,[(0,o.Lk)("h2",F,(0,d.v_)(e.$t("tickets.title")),1)]),(0,o.Lk)("div",K,[(0,o.Lk)("p",null,(0,d.v_)(e.$t("tickets.description")),1)])]),(0,o.Lk)("div",T,[(0,o.Lk)("div",U,[(0,o.Lk)("div",j,[(0,o.Lk)("div",z,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=function(e){return xe.value=e}),placeholder:e.$t("tickets.searchPlaceholder"),onInput:ma},null,40,W),[[k.Jo,xe.value]]),(0,o.bF)((0,v.R1)(f.C0l),{size:16,class:"search-icon"})]),(0,o.Lk)("button",{class:"new-ticket-btn",onClick:Ra},[(0,o.bF)((0,v.R1)(f.uID),{size:16}),(0,o.eW)(" "+(0,d.v_)(e.$t("tickets.newTicket")),1)])]),Me.value.length>0&&!Ge.value?((0,o.uX)(),(0,o.CE)("div",D,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(ta.value,function(e){var a;return(0,o.uX)(),(0,o.CE)("div",{key:e.id,class:(0,d.C4)(["ticket-item",{active:(null===(a=Se.value)||void 0===a?void 0:a.id)===e.id}]),onClick:function(a){return wa(e)}},[(0,o.Lk)("div",M,[(0,o.Lk)("h3",S,(0,d.v_)(e.subject),1),(0,o.Lk)("div",x,[(0,o.Lk)("span",Q,(0,d.v_)(ra(e.updated_at)),1),(0,o.Lk)("div",O,[(0,o.Lk)("span",{class:(0,d.C4)(["status-badge",va(e.status)])},(0,d.v_)(oa(e.status)),3),(0,o.Lk)("span",{class:(0,d.C4)(["level-badge",ka(e.level)])},(0,d.v_)(da(e.level)),3)])])])],10,I)}),128))])):Ge.value?((0,o.uX)(),(0,o.CE)("div",P,[(0,o.bF)(h.A),(0,o.Lk)("p",null,(0,d.v_)(e.$t("tickets.loadingTickets")),1)])):((0,o.uX)(),(0,o.CE)("div",N,[(0,o.bF)((0,v.R1)(f.yg_),{size:48,class:"empty-icon"}),(0,o.Lk)("p",null,(0,d.v_)(e.$t("tickets.noTickets")),1)]))]),(0,o.Lk)("div",V,[Se.value?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("div",H,[(0,o.Lk)("div",B,[(0,o.Lk)("h2",null,(0,d.v_)(Se.value.subject),1),(0,o.Lk)("div",J,[(0,o.Lk)("span",{class:(0,d.C4)(["status-badge",va(Se.value.status)])},(0,d.v_)(oa(Se.value.status)),3),(0,o.Lk)("span",{class:(0,d.C4)(["level-badge",ka(Se.value.level)])},(0,d.v_)(da(Se.value.level)),3),(0,o.Lk)("span",q,(0,d.v_)(e.$t("tickets.createdAt"))+": "+(0,d.v_)(ra(Se.value.created_at)),1)])]),(0,o.Lk)("div",G,[0===Se.value.status?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"close-ticket-btn",onClick:a[1]||(a[1]=function(e){return Aa()}),disabled:qe.value},[qe.value?((0,o.uX)(),(0,o.CE)("span",ee,[a[14]||(a[14]=(0,o.Lk)("span",{class:"loading-spinner"},null,-1)),(0,o.eW)(" "+(0,d.v_)(e.$t("tickets.closing")),1)])):((0,o.uX)(),(0,o.CE)("span",Z,(0,d.v_)(e.$t("tickets.closeTicket")),1))],8,Y)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",ae,[(0,o.Lk)("div",te,[Ne.value?((0,o.uX)(),(0,o.CE)("div",se,[(0,o.bF)(h.A),(0,o.Lk)("p",null,(0,d.v_)(e.$t("tickets.loadingMessages")),1)])):0===Pe.value.length?((0,o.uX)(),(0,o.CE)("div",le,[(0,o.bF)((0,v.R1)(f.bYO),{size:64,class:"no-messages-icon"}),(0,o.Lk)("p",null,(0,d.v_)(e.$t("tickets.noMessages")),1)])):((0,o.uX)(!0),(0,o.CE)(o.FK,{key:2},(0,o.pI)(Pe.value,function(a,t){return(0,o.uX)(),(0,o.CE)("div",{key:a.id,class:(0,d.C4)(["message-item",{"admin-message":a.is_admin,"user-message":!a.is_admin}])},[a.is_admin?((0,o.uX)(),(0,o.CE)("div",ne,[(0,o.bF)((0,v.R1)(f.ut_))])):(0,o.Q3)("",!0),(0,o.Lk)("div",ue,[(0,o.Lk)("div",ie,[Ea(t,a.is_admin)?((0,o.uX)(),(0,o.CE)("span",ce,(0,d.v_)(a.is_admin?e.$t("tickets.admin"):e.$t("tickets.you")),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",re,(0,d.v_)(a.message),1)]),a.is_admin?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",oe,[(0,o.bF)((0,v.R1)(f.vg7))])),(0,o.Lk)("span",ve,(0,d.v_)($a(a.created_at)),1)],2)}),128))])]),0===Se.value.status?((0,o.uX)(),(0,o.CE)("div",de,[(0,o.Lk)("div",ke,[(0,o.Lk)("div",me,[(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":a[2]||(a[2]=function(e){return Ve.value=e}),placeholder:e.$t("tickets.replyPlaceholder"),rows:"1",onKeydown:(0,k.jR)((0,k.D$)(ia,["ctrl"]),["enter"]),onPaste:ba},null,40,pe),[[k.Jo,Ve.value]]),(0,o.Lk)("div",fe,[(0,o.bF)(C.A,{images:He.value,"onUpdate:images":a[3]||(a[3]=function(e){return He.value=e}),disabled:Be.value,"enable-markdown":!0,"auto-insert-markdown":!0,onUploadSuccess:pa,onUploadError:fa,onMarkdownReady:ga},null,8,["images","disabled"])]),(0,o.Lk)("button",{class:"send-reply-btn",onClick:ia,disabled:!Ve.value.trim()||Be.value},[Be.value?((0,o.uX)(),(0,o.CE)("span",be)):((0,o.uX)(),(0,o.Wv)((0,v.R1)(f.mDt),{key:1,size:18})),(0,o.eW)(" "+(0,d.v_)(e.$t("tickets.send")),1)],8,ge)])])])):((0,o.uX)(),(0,o.CE)("div",Le,[(0,o.bF)((0,v.R1)(f.XEb),{size:20}),(0,o.Lk)("span",null,(0,d.v_)(e.$t("tickets.ticketClosed")),1)]))],64)):((0,o.uX)(),(0,o.CE)("div",he,[(0,o.bF)((0,v.R1)(f.pjm),{size:64,class:"no-selection-icon"}),(0,o.Lk)("p",null,(0,d.v_)(e.$t("tickets.selectTicket")),1)]))])]),Qe.value?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,d.C4)(["modal-overlay",{"show-overlay":Ca.value}]),onClick:_a},[(0,o.Lk)("div",{class:(0,d.C4)(["modal-content",{"modal-close-animation":ya.value}]),onClick:a[10]||(a[10]=(0,k.D$)(function(){},["stop"]))},[(0,o.Lk)("div",we,[(0,o.Lk)("h3",null,(0,d.v_)(e.$t("tickets.createNew")),1),(0,o.Lk)("button",{class:"modal-close",onClick:_a},[(0,o.bF)((0,v.R1)(f.MRt),{size:20})])]),(0,o.Lk)("div",ye,[(0,o.Lk)("div",Ce,[(0,o.Lk)("label",null,(0,d.v_)(e.$t("tickets.subject")),1),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=function(e){return ea.value.subject=e}),placeholder:e.$t("tickets.subjectPlaceholder")},null,8,_e),[[k.Jo,ea.value.subject]])]),(0,o.Lk)("div",Re,[(0,o.Lk)("label",null,(0,d.v_)(e.$t("tickets.level")),1),(0,o.Lk)("div",Ae,[(0,o.Lk)("div",{class:(0,d.C4)(["level-tag",{active:"0"===ea.value.level,"level-low":!0}]),onClick:a[5]||(a[5]=function(e){return ea.value.level="0"})},["0"===ea.value.level?((0,o.uX)(),(0,o.Wv)((0,v.R1)(f.iQ6),{key:0,size:16,class:"tag-icon"})):((0,o.uX)(),(0,o.Wv)((0,v.R1)(f.ABt),{key:1,size:16,class:"tag-icon"})),(0,o.eW)(" "+(0,d.v_)(e.$t("tickets.levelLow")),1)],2),(0,o.Lk)("div",{class:(0,d.C4)(["level-tag",{active:"1"===ea.value.level,"level-medium":!0}]),onClick:a[6]||(a[6]=function(e){return ea.value.level="1"})},["1"===ea.value.level?((0,o.uX)(),(0,o.Wv)((0,v.R1)(f.iQ6),{key:0,size:16,class:"tag-icon"})):((0,o.uX)(),(0,o.Wv)((0,v.R1)(f.ABt),{key:1,size:16,class:"tag-icon"})),(0,o.eW)(" "+(0,d.v_)(e.$t("tickets.levelMedium")),1)],2),(0,o.Lk)("div",{class:(0,d.C4)(["level-tag",{active:"2"===ea.value.level,"level-high":!0}]),onClick:a[7]||(a[7]=function(e){return ea.value.level="2"})},["2"===ea.value.level?((0,o.uX)(),(0,o.Wv)((0,v.R1)(f.iQ6),{key:0,size:16,class:"tag-icon"})):((0,o.uX)(),(0,o.Wv)((0,v.R1)(f.ABt),{key:1,size:16,class:"tag-icon"})),(0,o.eW)(" "+(0,d.v_)(e.$t("tickets.levelHigh")),1)],2)])]),(0,o.Lk)("div",Ee,[(0,o.Lk)("label",null,(0,d.v_)(e.$t("tickets.message")),1),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":a[8]||(a[8]=function(e){return ea.value.message=e}),placeholder:e.$t("tickets.messagePlaceholder"),rows:"5",onPaste:La},null,40,$e),[[k.Jo,ea.value.message]])]),(0,o.Lk)("div",Xe,[(0,o.Lk)("label",null,(0,d.v_)(e.$t("tickets.imageUpload")),1),(0,o.bF)(C.A,{images:aa.value,"onUpdate:images":a[9]||(a[9]=function(e){return aa.value=e}),"max-files":5,"max-size":5242880,"enable-markdown":!0,"auto-insert-markdown":!0,onUploadSuccess:pa,onUploadError:fa,onMarkdownReady:ha},null,8,["images"])])]),(0,o.Lk)("div",Fe,[(0,o.Lk)("button",{class:"btn-cancel",onClick:_a},(0,d.v_)(e.$t("common.cancel")),1),(0,o.Lk)("button",{class:"btn-submit",onClick:la,disabled:Oe.value,type:"button"},[Oe.value?((0,o.uX)(),(0,o.CE)("span",Te)):(0,o.Q3)("",!0),(0,o.eW)(" "+(0,d.v_)(e.$t("common.submit")),1)],8,Ke)])],2)],2)):(0,o.Q3)("",!0),Je.value?((0,o.uX)(),(0,o.CE)("div",{key:1,class:(0,d.C4)(["modal-overlay",{"show-overlay":Ca.value}]),onClick:Aa},[(0,o.Lk)("div",{class:(0,d.C4)(["modal-content",{"modal-close-animation":ya.value}]),onClick:a[13]||(a[13]=(0,k.D$)(function(){},["stop"]))},[(0,o.Lk)("div",Ue,[(0,o.Lk)("h3",null,(0,d.v_)(e.$t("tickets.closeConfirmTitle")),1),(0,o.Lk)("button",{class:"modal-close",onClick:a[11]||(a[11]=function(e){return Je.value=!1})},[(0,o.bF)((0,v.R1)(f.MRt),{size:20})])]),(0,o.Lk)("div",je,[(0,o.Lk)("p",null,(0,d.v_)(e.$t("tickets.closeConfirmText")),1)]),(0,o.Lk)("div",ze,[(0,o.Lk)("button",{class:"btn-cancel",onClick:a[12]||(a[12]=function(e){return Je.value=!1})},(0,d.v_)(e.$t("common.cancel")),1),(0,o.Lk)("button",{class:"btn-submit",onClick:ca,disabled:qe.value},[qe.value?((0,o.uX)(),(0,o.CE)("span",De)):(0,o.Q3)("",!0),(0,o.eW)(" "+(0,d.v_)(e.$t("common.confirm")),1)],8,We)])],2)],2)):(0,o.Q3)("",!0)],64)),(0,o.bF)(y.A,{"show-popup":Ua.value,title:(0,v.R1)(ja).title,content:(0,v.R1)(ja).content,"cooldown-hours":(0,v.R1)(ja).cooldownHours,"close-wait-seconds":(0,v.R1)(ja).closeWaitSeconds,onClose:za},null,8,["show-popup","title","content","cooldown-hours","close-wait-seconds"])])}}};const Me=(0,t(66262).A)(Ie,[["__scopeId","data-v-76083596"]])}}]);