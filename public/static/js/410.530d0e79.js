"use strict";(self.webpackChunkez_theme=self.webpackChunkez_theme||[]).push([[410],{16034:(e,a,l)=>{var n=l(46518),s=l(32357).values;n({target:"Object",stat:!0},{values:function(e){return s(e)}})},29410:(e,a,l)=>{l.r(a),l.d(a,{default:()=>va});var n=l(54119),s=l(41034),t=l(20908),i=l(30388),r=(l(28706),l(74423),l(64346),l(34782),l(26910),l(23288),l(2892),l(26099),l(16034),l(27495),l(21699),l(47764),l(25440),l(62953),l(76031),l(20641)),o=l(90033),c=l(50953),u=l(53751),d=l(46992),v=l(75220),f=l(92549),p=l(49586),k=l(98120),m=l(33366);var b=l(58044),L=l(80394),h={class:"profile-container"},w={class:"profile-inner"},g={class:"dashboard-card welcome-card"},_={class:"card-header"},C={class:"card-title"},y={class:"card-body"},R={key:0,class:"profile-skeleton"},$={key:1,class:"error-state"},P={key:2,class:"profile-content"},E={class:"profile-card"},A={class:"card-header"},X={class:"info-content"},F={class:"info-list"},K={class:"info-item"},x={class:"info-label"},S={class:"info-value"},z={class:"info-item"},Q={class:"info-label"},I={class:"info-value"},D={key:0,class:"profile-card"},O={class:"card-header"},W={class:"settings-content"},N={class:"gift-card-form"},T={class:"input-group"},M=["placeholder"],q=["disabled"],G={key:0,class:"loader"},U={class:"profile-card"},B={class:"card-header"},V={class:"settings-content"},H={class:"setting-item"},j={class:"setting-info"},J={class:"setting-label"},Y={class:"setting-description"},Z={class:"setting-toggle"},ee=["disabled"],ae={class:"setting-item"},le={class:"setting-info"},ne={class:"setting-label"},se={class:"setting-description"},te={class:"setting-toggle"},ie=["disabled"],re={class:"profile-card"},oe={class:"card-header"},ce={class:"settings-content"},ue={class:"action-buttons"},de={key:1,class:"profile-card"},ve={class:"card-header"},fe={class:"settings-content"},pe={key:0,class:"telegram-loading"},ke={class:"action-buttons"},me={key:2,class:"profile-card"},be={class:"card-header"},Le={class:"settings-content"},he={class:"action-buttons"},we={key:0,class:"subscription-info"},ge={class:"subscription-url"},_e={key:3,class:"profile-card"},Ce={class:"card-header"},ye={class:"settings-content"},Re={key:0,class:"device-loading"},$e={key:1,class:"device-error"},Pe={key:2,class:"device-empty"},Ee={key:3,class:"device-list"},Ae={class:"device-icon"},Xe={class:"device-info"},Fe={class:"device-name"},Ke={class:"device-meta"},xe={class:"device-ip"},Se={class:"device-time"},ze={class:"modal-header"},Qe={class:"modal-body"},Ie={class:"form-group"},De=["placeholder"],Oe={class:"form-group"},We=["placeholder"],Ne={class:"form-group"},Te=["placeholder"],Me={key:0,class:"error-text"},qe={class:"modal-footer"},Ge=["disabled"],Ue={key:0,class:"loader"},Be={class:"modal-header"},Ve={class:"modal-body"},He={class:"modal-footer"},je=["disabled"],Je={key:0,class:"loader"},Ye={class:"modal-header"},Ze={class:"modal-body"},ea={class:"step-container"},aa={class:"step-item"},la={class:"step-number"},na={class:"step-content"},sa=["href"],ta={class:"step-item"},ia={class:"step-number"},ra={class:"step-content"},oa={class:"command-container"},ca={class:"command-text"},ua={class:"modal-footer"};const da=Object.assign({name:"UserProfile"},{__name:"UserProfile",setup:function(e){(0,b.reloadMessages)();var a,l=(0,d.s9)().t,da=(a=(0,m.d)().showToast,{success:function(e){a(e,"success",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},error:function(e){a(e,"error",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},warning:function(e){a(e,"warning",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},info:function(e){a(e,"info",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)}}),va=da.success,fa=da.error,pa=(0,c.KR)(!0),ka=(0,c.KR)(""),ma=(0,c.KR)({}),ba=(0,c.KR)(!1),La=(0,c.KR)(!1),ha=(0,c.KR)(!1),wa=(0,c.KR)(!1),ga=(0,c.KR)(!1),_a=(0,c.KR)(!1),Ca=(0,c.KR)(""),ya=(0,c.KR)({is_telegram:0,telegram_discuss_link:""}),Ra=(0,c.KR)(null),$a=(0,c.KR)(!1),Pa=(0,c.KR)(""),Ea=(0,c.KR)(!1),Aa=(0,c.KR)([]),Xa=(0,c.KR)(!1),Fa=(0,c.KR)(""),Ka=(0,c.KR)(""),xa=(0,c.KR)(!1),Sa=(0,c.KR)(!1),za=(0,c.KR)(!1),Qa=(0,c.KR)(!1),Ia=(0,c.KR)(L.DASHBOARD_CONFIG.showImportSubscription),Da=(0,c.KR)({oldPassword:"",newPassword:"",confirmPassword:""}),Oa=(0,r.EW)(function(){return!!Da.value.confirmPassword&&Da.value.newPassword!==Da.value.confirmPassword}),Wa=function(){return Da.value.oldPassword&&Da.value.newPassword&&Da.value.confirmPassword&&!Oa.value},Na=(0,v.lq)(),Ta=(0,v.rd)(),Ma=function(){var e=(0,i.A)((0,t.A)().m(function e(){var a,n,s,i=arguments;return(0,t.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return(a=!(i.length>0&&void 0!==i[0])||i[0])&&(pa.value=!0),ka.value="",e.p=1,e.n=2,(0,f.ug)();case 2:if(!(n=e.v)||!n.data){e.n=4;break}return ma.value=n.data,ga.value=!!n.data.remind_expire,_a.value=!!n.data.remind_traffic,e.n=3,Ga();case 3:e.n=5;break;case 4:ka.value=l("common.unknownError");case 5:e.n=7;break;case 6:e.p=6,s=e.v,ka.value=(null==s?void 0:s.message)||l("common.networkError"),fa(ka.value);case 7:return e.p=7,!a||$a.value||Xa.value||(pa.value=!1),qa(),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}));return function(){return e.apply(this,arguments)}}(),qa=function(){"true"===Na.query.openPasswordModal&&setTimeout(function(){ba.value=!0;var e=(0,s.A)({},Na.query);delete e.openPasswordModal,Ta.replace({query:e})},500)};(0,r.wB)(function(){return Na.query},function(e){"true"===e.openPasswordModal&&setTimeout(function(){ba.value=!0;var a=(0,s.A)({},e);delete a.openPasswordModal,Ta.replace({query:a})},500)},{immediate:!0});var Ga=function(){var e=(0,i.A)((0,t.A)().m(function e(){var a;return(0,t.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,(0,f._8)();case 1:(a=e.v)&&a.data&&(Ca.value=a.data.subscribe_url||""),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),Ua=function(){var e=(0,i.A)((0,t.A)().m(function e(){var a,l;return(0,t.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return $a.value=!0,Pa.value="",e.p=1,e.n=2,(0,f.l8)();case 2:return(a=e.v)&&a.data&&(ya.value=a.data),e.p=3,e.n=4,(0,f.JI)();case 4:(l=e.v)&&l.data&&(l.data.message&&l.data.message.includes("Not Found")?Ra.value=null:Ra.value=l.data),e.n=6;break;case 5:e.p=5,e.v,Ra.value=null;case 6:e.n=8;break;case 7:e.p=7,e.v,ya.value=null,Ra.value=null;case 8:return e.p=8,$a.value=!1,pa.value||Xa.value||(pa.value=!1),e.f(8);case 9:return e.a(2)}},e,null,[[3,5],[1,7,8,9]])}));return function(){return e.apply(this,arguments)}}(),Ba=function(){ya.value&&ya.value.telegram_discuss_link&&window.open(ya.value.telegram_discuss_link,"_blank")},Va=function(){Ea.value=!0},Ha=function(){Ea.value=!1},ja=function(){if(Ra.value&&Ca.value){var e="/bind ".concat(Ca.value);navigator.clipboard.writeText(e).then(function(){va(l("profile.commandCopied"))}).catch(function(e){ka(l("common.copyFailed"))})}},Ja=function(){var e=(0,i.A)((0,t.A)().m(function e(a){var n,s;return(0,t.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return Sa.value=!0,"expire"===a?za.value=!0:"traffic"===a&&(Qa.value=!0),e.p=1,n={remind_expire:ga.value?1:0,remind_traffic:_a.value?1:0},e.n=2,(0,f.WI)(n);case 2:(s=e.v)&&s.data&&va(l("profile.updateSuccess")),e.n=4;break;case 3:e.p=3,e.v,ga.value=!!ma.value.remind_expire,_a.value=!!ma.value.remind_traffic,fa(l("profile.updateError"));case 4:return e.p=4,e.n=5,Ma(!1);case 5:return Sa.value=!1,za.value=!1,Qa.value=!1,e.f(4);case 6:return e.a(2)}},e,null,[[1,3,4,6]])}));return function(a){return e.apply(this,arguments)}}(),Ya=function(){var e=(0,i.A)((0,t.A)().m(function e(){var a,n;return(0,t.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(Wa()){e.n=1;break}return e.a(2);case 1:return ha.value=!0,e.p=2,a={old_password:Da.value.oldPassword,new_password:Da.value.newPassword},e.n=3,(0,f.ec)(a);case 3:(n=e.v)&&n.data&&(va(l("profile.passwordChanged")),Da.value={oldPassword:"",newPassword:"",confirmPassword:""},ba.value=!1),e.n=5;break;case 4:e.p=4,e.v,fa(l("profile.passwordError"));case 5:return e.p=5,ha.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),Za=function(){var e=(0,i.A)((0,t.A)().m(function e(){var a;return(0,t.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return wa.value=!0,e.p=1,e.n=2,(0,f.uT)();case 2:(a=e.v)&&a.data&&(Ca.value=a.data,va(l("profile.resetSuccess")),La.value=!1),e.n=4;break;case 3:e.p=3,e.v,fa(l("profile.resetError"));case 4:return e.p=4,wa.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),el=function(){Ca.value&&navigator.clipboard.writeText(Ca.value).then(function(){va(l("profile.subscriptionCopied"))}).catch(function(e){})},al=function(){var e=(0,i.A)((0,t.A)().m(function e(){var a;return(0,t.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(Ka.value){e.n=1;break}return fa(l("profile.giftCardEmpty")),e.a(2);case 1:return xa.value=!0,e.p=2,e.n=3,(0,f.Ng)(Ka.value);case 3:if(!(a=e.v)||!a.data){e.n=4;break}return va(l("profile.giftCardSuccess")),Ka.value="",e.n=4,Ma(!1);case 4:e.n=6;break;case 5:e.p=5,e.v,fa(l("profile.giftCardError"));case 6:return e.p=6,xa.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[2,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),ll=function(){var e=(0,i.A)((0,t.A)().m(function e(){var a,s,i,r;return(0,t.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return Xa.value=!0,Fa.value="",e.p=1,e.n=2,(0,f.lH)();case 2:(a=e.v)&&a.data?(s=Array.isArray(a.data)?a.data:"object"===(0,n.A)(a.data)&&null!==a.data?Object.values(a.data):[],i=s.sort(function(e,a){return e.login_at&&a.login_at?a.login_at-e.login_at:0}),Aa.value=i.slice(0,10)):Fa.value=l("profile.sessionError"),e.n=4;break;case 3:e.p=3,r=e.v,Fa.value=(null==r?void 0:r.message)||l("common.networkError");case 4:return e.p=4,Xa.value=!1,pa.value||$a.value||(pa.value=!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),nl=function(e){if(!e)return k.GeN;var a=e.toLowerCase();return a.includes("iphone")||a.includes("ipad")||a.includes("ipod")||a.includes("android")?k.q2Q:a.includes("windows")||a.includes("macintosh")||a.includes("mac os")||a.includes("linux")?k.vk8:k.GeN},sl=function(e){if(!e)return l("profile.unknownDevice");var a=e.toLowerCase(),n="",s="";return n=a.includes("iphone")?"iPhone":a.includes("ipad")?"iPad":a.includes("ipod")?"iPod":a.includes("android")?"Android":a.includes("windows")?"Windows":a.includes("macintosh")||a.includes("mac os")?"MacOS":a.includes("linux")?"Linux":l("profile.unknownDevice"),s=a.includes("edg/")||a.includes("edge/")?"Edge":a.includes("chrome/")&&!a.includes("chromium/")?"Chrome":a.includes("firefox/")?"Firefox":!a.includes("safari/")||a.includes("chrome/")||a.includes("android")?a.includes("opera/")||a.includes("opr/")?"Opera":l("profile.unknownBrowser"):"Safari","".concat(n," - ").concat(s)},tl=function(e){if(!e)return"";var a=Number(e);if(isNaN(a))return"";if(a<0||a>4102444800)return"";try{var l=new Date(1e3*a);return new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(l)}catch(e){return""}};return(0,r.sV)(function(){pa.value=!0,Promise.all([Ma(!1),L.PROFILE_CONFIG.showRecentDevices?ll():Promise.resolve(),Ua()]).finally(function(){pa.value=!1,qa()})}),function(e,a){var l,n;return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",h,[(0,r.Lk)("div",w,[(0,r.Lk)("div",g,[(0,r.Lk)("div",_,[(0,r.Lk)("h2",C,(0,o.v_)(e.$t("profile.title")),1)]),(0,r.Lk)("div",y,[(0,r.Lk)("p",null,(0,o.v_)(e.$t("common.welcome")),1)])]),pa.value?((0,r.uX)(),(0,r.CE)("div",R,a[19]||(a[19]=[(0,r.Fv)('<div class="profile-card" data-v-8cffbf00><div class="card-header" data-v-8cffbf00><div class="skeleton-line skeleton-title" data-v-8cffbf00></div></div><div class="skeleton-content" data-v-8cffbf00><div class="skeleton-item" data-v-8cffbf00><div class="skeleton-label" data-v-8cffbf00></div><div class="skeleton-value" data-v-8cffbf00></div></div><div class="skeleton-item" data-v-8cffbf00><div class="skeleton-label" data-v-8cffbf00></div><div class="skeleton-value" data-v-8cffbf00></div></div></div></div><div class="profile-card" data-v-8cffbf00><div class="card-header" data-v-8cffbf00><div class="skeleton-line skeleton-title" data-v-8cffbf00></div></div><div class="skeleton-content" data-v-8cffbf00><div class="skeleton-item skeleton-setting" data-v-8cffbf00><div class="skeleton-text" data-v-8cffbf00><div class="skeleton-label" data-v-8cffbf00></div><div class="skeleton-description" data-v-8cffbf00></div></div><div class="skeleton-toggle" data-v-8cffbf00></div></div><div class="skeleton-item skeleton-setting" data-v-8cffbf00><div class="skeleton-text" data-v-8cffbf00><div class="skeleton-label" data-v-8cffbf00></div><div class="skeleton-description" data-v-8cffbf00></div></div><div class="skeleton-toggle" data-v-8cffbf00></div></div></div></div><div class="profile-card" data-v-8cffbf00><div class="card-header" data-v-8cffbf00><div class="skeleton-line skeleton-title" data-v-8cffbf00></div></div><div class="skeleton-content" data-v-8cffbf00><div class="skeleton-button" data-v-8cffbf00></div></div></div>',3)]))):ka.value?((0,r.uX)(),(0,r.CE)("div",$,[(0,r.bF)((0,c.R1)(k.QO),{size:48,class:"error-icon"}),(0,r.Lk)("p",null,(0,o.v_)(ka.value),1),(0,r.Lk)("button",{class:"retry-button",onClick:Ma},(0,o.v_)(e.$t("common.retry")),1)])):((0,r.uX)(),(0,r.CE)("div",P,[(0,r.Lk)("div",E,[(0,r.Lk)("div",A,[(0,r.Lk)("h3",null,(0,o.v_)(e.$t("profile.basicInfo")),1)]),(0,r.Lk)("div",X,[(0,r.Lk)("div",F,[(0,r.Lk)("div",K,[(0,r.Lk)("span",x,(0,o.v_)(e.$t("profile.email")),1),(0,r.Lk)("span",S,(0,o.v_)(ma.value.email),1)]),(0,r.Lk)("div",z,[(0,r.Lk)("span",Q,(0,o.v_)(e.$t("profile.createdAt")),1),(0,r.Lk)("span",I,(0,o.v_)((0,c.R1)(p.Yq)(ma.value.created_at)),1)])])])]),(0,c.R1)(L.PROFILE_CONFIG).showGiftCardRedeem?((0,r.uX)(),(0,r.CE)("div",D,[(0,r.Lk)("div",O,[(0,r.Lk)("h3",null,(0,o.v_)(e.$t("profile.giftCard")),1)]),(0,r.Lk)("div",W,[(0,r.Lk)("div",N,[(0,r.Lk)("div",T,[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=function(e){return Ka.value=e}),placeholder:e.$t("profile.giftCardPlaceholder"),class:"gift-card-input"},null,8,M),[[u.Jo,Ka.value]]),(0,r.Lk)("button",{class:"gift-card-btn",onClick:al,disabled:xa.value||!Ka.value},[xa.value?((0,r.uX)(),(0,r.CE)("span",G)):((0,r.uX)(),(0,r.Wv)((0,c.R1)(k.cWS),{key:1,size:18})),(0,r.eW)(" "+(0,o.v_)(e.$t("profile.giftCardSubmit")),1)],8,q)])])])])):(0,r.Q3)("",!0),(0,r.Lk)("div",U,[(0,r.Lk)("div",B,[(0,r.Lk)("h3",null,(0,o.v_)(e.$t("profile.notifications")),1)]),(0,r.Lk)("div",V,[(0,r.Lk)("div",H,[(0,r.Lk)("div",j,[(0,r.Lk)("span",J,(0,o.v_)(e.$t("profile.expireRemind")),1),(0,r.Lk)("span",Y,(0,o.v_)(e.$t("profile.expireRemindDesc")),1)]),(0,r.Lk)("div",Z,[(0,r.Lk)("label",{class:(0,o.C4)(["switch",{disabled:Sa.value}])},[(0,r.bo)((0,r.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=function(e){return ga.value=e}),onChange:a[2]||(a[2]=function(e){return Ja("expire")}),disabled:Sa.value},null,40,ee),[[u.lH,ga.value]]),(0,r.Lk)("span",{class:(0,o.C4)(["slider round",{loading:za.value}])},null,2)],2)])]),(0,r.Lk)("div",ae,[(0,r.Lk)("div",le,[(0,r.Lk)("span",ne,(0,o.v_)(e.$t("profile.trafficRemind")),1),(0,r.Lk)("span",se,(0,o.v_)(e.$t("profile.trafficRemindDesc")),1)]),(0,r.Lk)("div",te,[(0,r.Lk)("label",{class:(0,o.C4)(["switch",{disabled:Sa.value}])},[(0,r.bo)((0,r.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=function(e){return _a.value=e}),onChange:a[4]||(a[4]=function(e){return Ja("traffic")}),disabled:Sa.value},null,40,ie),[[u.lH,_a.value]]),(0,r.Lk)("span",{class:(0,o.C4)(["slider round",{loading:Qa.value}])},null,2)],2)])])])]),(0,r.Lk)("div",re,[(0,r.Lk)("div",oe,[(0,r.Lk)("h3",null,(0,o.v_)(e.$t("profile.security")),1)]),(0,r.Lk)("div",ce,[(0,r.Lk)("div",ue,[(0,r.Lk)("button",{class:"action-btn",onClick:a[5]||(a[5]=function(e){return ba.value=!0})},[(0,r.bF)((0,c.R1)(k.XEb),{size:18}),(0,r.eW)(" "+(0,o.v_)(e.$t("profile.changePassword")),1)])])])]),(null!==(l=ya.value)&&void 0!==l&&l.telegram_discuss_link||Ra.value&&Ra.value.username)&&!$a.value?((0,r.uX)(),(0,r.CE)("div",de,[(0,r.Lk)("div",ve,[(0,r.Lk)("h3",null,(0,o.v_)(e.$t("profile.telegram")),1)]),(0,r.Lk)("div",fe,[$a.value?((0,r.uX)(),(0,r.CE)("div",pe,a[20]||(a[20]=[(0,r.Lk)("div",{class:"skeleton-wrapper"},[(0,r.Lk)("div",{class:"skeleton-line",style:{width:"80%",height:"40px","margin-bottom":"12px"}}),(0,r.Lk)("div",{class:"skeleton-line",style:{width:"60%",height:"40px"}})],-1)]))):(0,r.Q3)("",!0),(0,r.Lk)("div",ke,[null!==(n=ya.value)&&void 0!==n&&n.telegram_discuss_link?((0,r.uX)(),(0,r.CE)("button",{key:0,class:"action-btn",onClick:Ba},[(0,r.bF)((0,c.R1)(k.apC),{size:18}),(0,r.eW)(" "+(0,o.v_)(e.$t("profile.telegramGroup")),1)])):(0,r.Q3)("",!0),Ra.value&&Ra.value.username?((0,r.uX)(),(0,r.CE)("button",{key:1,class:"action-btn",onClick:Va},[(0,r.bF)((0,c.R1)(k.apC),{size:18}),(0,r.eW)(" "+(0,o.v_)(e.$t("profile.telegramBot")),1)])):(0,r.Q3)("",!0)])])])):(0,r.Q3)("",!0),Ia.value?((0,r.uX)(),(0,r.CE)("div",me,[(0,r.Lk)("div",be,[(0,r.Lk)("h3",null,(0,o.v_)(e.$t("profile.subscription")),1)]),(0,r.Lk)("div",Le,[(0,r.Lk)("div",he,[(0,r.Lk)("button",{class:"action-btn danger",onClick:a[6]||(a[6]=function(e){return La.value=!0})},[(0,r.bF)((0,c.R1)(k.H42),{size:18}),(0,r.eW)(" "+(0,o.v_)(e.$t("profile.resetSecurity")),1)]),Ca.value?((0,r.uX)(),(0,r.CE)("button",{key:0,class:"action-btn",onClick:el},[(0,r.bF)((0,c.R1)(k.bzS),{size:18}),(0,r.eW)(" "+(0,o.v_)(e.$t("profile.copySubscription")),1)])):(0,r.Q3)("",!0)]),Ca.value?((0,r.uX)(),(0,r.CE)("div",we,[(0,r.Lk)("div",ge,(0,o.v_)(Ca.value),1)])):(0,r.Q3)("",!0)])])):(0,r.Q3)("",!0),(0,c.R1)(L.PROFILE_CONFIG).showRecentDevices?((0,r.uX)(),(0,r.CE)("div",_e,[(0,r.Lk)("div",Ce,[(0,r.Lk)("h3",null,(0,o.v_)(e.$t("profile.recentDevices")),1)]),(0,r.Lk)("div",ye,[Xa.value?((0,r.uX)(),(0,r.CE)("div",Re,[((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(3,function(e){return(0,r.Lk)("div",{class:"session-skeleton",key:e},a[21]||(a[21]=[(0,r.Lk)("div",{class:"session-skeleton-icon"},null,-1),(0,r.Lk)("div",{class:"session-skeleton-content"},[(0,r.Lk)("div",{class:"session-skeleton-title"}),(0,r.Lk)("div",{class:"session-skeleton-info"})],-1)]))}),64))])):Fa.value?((0,r.uX)(),(0,r.CE)("div",$e,[(0,r.Lk)("p",null,(0,o.v_)(Fa.value),1),(0,r.Lk)("button",{class:"refresh-btn",onClick:ll},(0,o.v_)(e.$t("common.retry")),1)])):0===Aa.value.length?((0,r.uX)(),(0,r.CE)("div",Pe,[(0,r.bF)((0,c.R1)(k.Hql),{size:48,class:"empty-icon"}),(0,r.Lk)("p",null,(0,o.v_)(e.$t("profile.noDevices")),1)])):((0,r.uX)(),(0,r.CE)("div",Ee,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(Aa.value,function(a,l){return(0,r.uX)(),(0,r.CE)("div",{key:l,class:"device-item"},[(0,r.Lk)("div",Ae,[((0,r.uX)(),(0,r.Wv)((0,r.$y)(nl(a.ua)),{size:24}))]),(0,r.Lk)("div",Xe,[(0,r.Lk)("div",Fe,(0,o.v_)(sl(a.ua)),1),(0,r.Lk)("div",Ke,[(0,r.Lk)("span",xe,(0,o.v_)(a.ip||e.$t("profile.unknownIP")),1),(0,r.Lk)("span",Se,(0,o.v_)(tl(a.login_at)),1)])])])}),128))]))])])):(0,r.Q3)("",!0)])),(0,r.bF)(u.eB,{name:"modal-fade"},{default:(0,r.k6)(function(){return[ba.value?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"modal-overlay",onClick:a[13]||(a[13]=function(e){return ba.value=!1})},[(0,r.Lk)("div",{class:"modal-content",onClick:a[12]||(a[12]=(0,u.D$)(function(){},["stop"]))},[(0,r.Lk)("div",ze,[(0,r.Lk)("h3",null,(0,o.v_)(e.$t("profile.changePasswordTitle")),1),(0,r.Lk)("button",{class:"modal-close",onClick:a[7]||(a[7]=function(e){return ba.value=!1})},[(0,r.bF)((0,c.R1)(k.MRt),{size:20})])]),(0,r.Lk)("div",Qe,[(0,r.Lk)("div",Ie,[(0,r.Lk)("label",null,(0,o.v_)(e.$t("profile.oldPassword")),1),(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":a[8]||(a[8]=function(e){return Da.value.oldPassword=e}),placeholder:e.$t("profile.oldPassword")},null,8,De),[[u.Jo,Da.value.oldPassword]])]),(0,r.Lk)("div",Oe,[(0,r.Lk)("label",null,(0,o.v_)(e.$t("profile.newPassword")),1),(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":a[9]||(a[9]=function(e){return Da.value.newPassword=e}),placeholder:e.$t("profile.newPassword")},null,8,We),[[u.Jo,Da.value.newPassword]])]),(0,r.Lk)("div",Ne,[(0,r.Lk)("label",null,(0,o.v_)(e.$t("profile.confirmPassword")),1),(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":a[10]||(a[10]=function(e){return Da.value.confirmPassword=e}),placeholder:e.$t("profile.confirmPassword")},null,8,Te),[[u.Jo,Da.value.confirmPassword]]),Oa.value?((0,r.uX)(),(0,r.CE)("div",Me,(0,o.v_)(e.$t("profile.passwordMismatch")),1)):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",qe,[(0,r.Lk)("button",{class:"btn-cancel",onClick:a[11]||(a[11]=function(e){return ba.value=!1})},(0,o.v_)(e.$t("common.cancel")),1),(0,r.Lk)("button",{class:"btn-submit",onClick:Ya,disabled:ha.value||!Wa()},[ha.value?((0,r.uX)(),(0,r.CE)("span",Ue)):(0,r.Q3)("",!0),(0,r.eW)(" "+(0,o.v_)(e.$t("common.submit")),1)],8,Ge)])])])):(0,r.Q3)("",!0)]}),_:1}),(0,r.bF)(u.eB,{name:"modal-fade"},{default:(0,r.k6)(function(){return[La.value?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"modal-overlay",onClick:a[17]||(a[17]=function(e){return La.value=!1})},[(0,r.Lk)("div",{class:"modal-content",onClick:a[16]||(a[16]=(0,u.D$)(function(){},["stop"]))},[(0,r.Lk)("div",Be,[(0,r.Lk)("h3",null,(0,o.v_)(e.$t("profile.resetSecurityTitle")),1),(0,r.Lk)("button",{class:"modal-close",onClick:a[14]||(a[14]=function(e){return La.value=!1})},[(0,r.bF)((0,c.R1)(k.MRt),{size:20})])]),(0,r.Lk)("div",Ve,[(0,r.Lk)("p",null,(0,o.v_)(e.$t("profile.resetSecurityConfirm")),1)]),(0,r.Lk)("div",He,[(0,r.Lk)("button",{class:"btn-cancel",onClick:a[15]||(a[15]=function(e){return La.value=!1})},(0,o.v_)(e.$t("common.cancel")),1),(0,r.Lk)("button",{class:"btn-submit danger",onClick:Za,disabled:wa.value},[wa.value?((0,r.uX)(),(0,r.CE)("span",Je)):(0,r.Q3)("",!0),(0,r.eW)(" "+(0,o.v_)(e.$t("common.confirm")),1)],8,je)])])])):(0,r.Q3)("",!0)]}),_:1})]),a[22]||(a[22]=(0,r.Lk)("div",{class:"bottom-safe-area"},null,-1))]),(0,r.bF)(u.eB,{name:"modal-fade"},{default:(0,r.k6)(function(){var l,n;return[Ea.value?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"modal-overlay",onClick:Ha},[(0,r.Lk)("div",{class:"modal-content",onClick:a[18]||(a[18]=(0,u.D$)(function(){},["stop"]))},[(0,r.Lk)("div",Ye,[(0,r.Lk)("h3",null,(0,o.v_)(e.$t("profile.bindTelegram")),1),(0,r.Lk)("button",{class:"modal-close",onClick:Ha},[(0,r.bF)((0,c.R1)(k.MRt),{size:20})])]),(0,r.Lk)("div",Ze,[(0,r.Lk)("div",ea,[(0,r.Lk)("div",aa,[(0,r.Lk)("div",la,(0,o.v_)(e.$t("profile.telegramStep1")),1),(0,r.Lk)("div",na,[(0,r.Lk)("p",null,[(0,r.eW)((0,o.v_)(e.$t("profile.telegramSearchTip"))+" ",1),(0,r.Lk)("a",{href:"https://t.me/".concat(null===(l=Ra.value)||void 0===l?void 0:l.username),target:"_blank",class:"tg-link"}," @"+(0,o.v_)(null===(n=Ra.value)||void 0===n?void 0:n.username),9,sa)])])]),(0,r.Lk)("div",ta,[(0,r.Lk)("div",ia,(0,o.v_)(e.$t("profile.telegramStep2")),1),(0,r.Lk)("div",ra,[(0,r.Lk)("p",null,(0,o.v_)(e.$t("profile.telegramSendCommand")),1),(0,r.Lk)("div",oa,[(0,r.Lk)("pre",ca,"/bind "+(0,o.v_)(Ca.value),1),(0,r.Lk)("button",{class:"copy-command-btn",onClick:ja},[(0,r.bF)((0,c.R1)(k.bzS),{size:16})])])])])])]),(0,r.Lk)("div",ua,[(0,r.Lk)("button",{class:"btn-submit",onClick:Ha},(0,o.v_)(e.$t("profile.iKnow")),1)])])])):(0,r.Q3)("",!0)]}),_:1})],64)}}});const va=(0,l(66262).A)(da,[["__scopeId","data-v-8cffbf00"]])},32357:(e,a,l)=>{var n=l(43724),s=l(79039),t=l(79504),i=l(42787),r=l(71072),o=l(25397),c=t(l(48773).f),u=t([].push),d=n&&s(function(){var e=Object.create(null);return e[2]=2,!c(e,2)}),v=function(e){return function(a){for(var l,s=o(a),t=r(s),v=d&&null===i(s),f=t.length,p=0,k=[];f>p;)l=t[p++],n&&!(v?l in s:c(s,l))||u(k,e?[l,s[l]]:s[l]);return k}};e.exports={entries:v(!0),values:v(!1)}}}]);